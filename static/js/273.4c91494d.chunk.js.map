{"version":3,"file":"static/js/273.4c91494d.chunk.js","mappings":"qPACA,EAA6B,mC,SCyB7B,EAtBuB,WACrB,OACE,iCACE,oDACA,gBAAIA,UAAWC,EAAf,WACE,yBACE,SAAC,KAAD,CAAMC,GAAI,OAAQC,SAAO,EAAzB,qBAIF,yBACE,SAAC,KAAD,CAAMD,GAAI,UAAV,2BAIJ,SAAC,EAAAE,SAAD,CAAUC,UAAU,uCAApB,UACE,SAAC,KAAD,QAIP,E,kBCvBD,EAAwB,4BAAxB,EAAgE,gCAAhE,EAA6G,iCCsE7G,EAhEqB,WACnB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,QAAOL,GAEnBM,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAsCE,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAoDF,EAAAA,EAAAA,UAAS,CAAC,GAA9D,eAAOG,EAAP,KAA2BC,EAA3B,KAEMC,GAAmBC,EAAAA,EAAAA,cAAW,iBAAC,8GAEZC,EAAAA,EAAAA,GAAiBC,EAAAA,EAAAA,OAAgBV,IAFrB,OAE3BW,EAF2B,OAGjCP,EAAeO,EAAOC,KAAKC,IAC3BP,EAAsBK,EAAOC,MAJI,gDAMjCE,QAAQC,IAAR,MANiC,yDAQlC,CAACf,IAcJ,OAJAgB,EAAAA,EAAAA,YAAU,WACJhB,IAAYG,GAAaI,GAC9B,GAAE,CAACA,EAAkBP,EAASG,KAG7B,gBAAKf,UAAWC,EAAhB,SACmB,KAAhBc,GACC,iCACE,mBAAQc,KAAK,SAASC,QAAS,kBAhBlB,WAAO,IAAD,EAGlB,EAFP,MAAiD,OAA7C,UAAApB,EAAYqB,QAAQC,aAApB,eAA2BC,KAAKC,UAC3B1B,EAAS,KAETA,EAAS,UAAD,iBAAWE,EAAYqB,QAAQC,MAAMC,YAArC,aAAW,EAAgCE,QAE7D,CAU4CC,EAAN,EAA/B,sBAGA,iBAAKpC,UAAWC,EAAhB,WACE,gBACED,UAAWC,EACXoC,IAAG,0CAAqCpB,EAAmBqB,aAC3DC,IAAG,UAAKtB,EAAmBuB,YAE7B,4BACE,wBAAKvB,EAAmBwB,kBACxB,wCAAgBxB,EAAmByB,iBACnC,sCACA,uBAAIzB,EAAmB0B,YACvB,oCACA,uBACG1B,EAAmB2B,OAAOC,KAAI,cAAGC,EAAH,IAAMC,EAAN,EAAMA,KAAN,gBAAoBA,EAApB,iBAIrC,SAAC,EAAD,QAGF,uCAIP,C","sources":["webpack://react-homework-template/./src/components/AdditionalInfo/AdditionalInfo.module.css?0bf0","components/AdditionalInfo/AdditionalInfo.jsx","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"infoBorder\":\"AdditionalInfo_infoBorder__wJUO8\"};","import React, { Suspense } from 'react';\nimport { Link, Outlet } from 'react-router-dom';\nimport css from './AdditionalInfo.module.css';\n\nconst AdditionalInfo = () => {\n  return (\n    <>\n      <h4>Additional information</h4>\n      <ul className={css.infoBorder}>\n        <li>\n          <Link to={'cast'} replace>\n            Cast\n          </Link>\n        </li>\n        <li>\n          <Link to={'reviews'}>Reviews</Link>\n        </li>\n      </ul>\n\n      <Suspense fallback={<h2>Loading...</h2>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default AdditionalInfo;\n","// extracted by mini-css-extract-plugin\nexport default {\"movie\":\"MovieDetails_movie__9X7I7\",\"movieItem\":\"MovieDetails_movieItem__M-n2s\",\"movieImage\":\"MovieDetails_movieImage__SFpqg\"};","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\nimport AdditionalInfo from 'components/AdditionalInfo/AdditionalInfo';\nimport { apiMovieLauncher } from 'components/API/apiMovieLauncher';\nimport apiUtils from 'components/API/apiUtils';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const locationRef = useRef(location);\n\n  const { movieId } = useParams();\n  const [movieIdData, setMovieIdData] = useState('');\n  const [movieIdDataDetails, setMovieIdDataDetails] = useState({});\n\n  const dataMovieDetails = useCallback(async () => {\n    try {\n      const answer = await apiMovieLauncher(apiUtils.API_ID(movieId));\n      setMovieIdData(answer.data.id);\n      setMovieIdDataDetails(answer.data);\n    } catch (err) {\n      console.log(err);\n    }\n  }, [movieId]);\n\n  const goBackButton = () => {\n    if (locationRef.current.state?.from.pathname === '/') {\n      return navigate('/');\n    } else {\n      return navigate(`/movies${locationRef.current.state.from?.search}`);\n    }\n  };\n\n  useEffect(() => {\n    if (movieId !== movieIdData) dataMovieDetails();\n  }, [dataMovieDetails, movieId, movieIdData]);\n\n  return (\n    <div className={css.movie}>\n      {movieIdData !== '' ? (\n        <>\n          <button type=\"button\" onClick={() => goBackButton()}>\n            Go back\n          </button>\n          <div className={css.movieItem}>\n            <img\n              className={css.movieImage}\n              src={`https://image.tmdb.org/t/p/w500/${movieIdDataDetails.poster_path}`}\n              alt={`${movieIdDataDetails.tagline}`}\n            />\n            <div>\n              <h2>{movieIdDataDetails.original_title}</h2>\n              <p>User score: {movieIdDataDetails.vote_average}</p>\n              <h3>Overview</h3>\n              <p>{movieIdDataDetails.overview}</p>\n              <h3>Genres</h3>\n              <p>\n                {movieIdDataDetails.genres.map(({ _, name }) => `${name} `)}\n              </p>\n            </div>\n          </div>\n          <AdditionalInfo />\n        </>\n      ) : (\n        <p>Loading...</p>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["className","css","to","replace","Suspense","fallback","location","useLocation","navigate","useNavigate","locationRef","useRef","movieId","useParams","useState","movieIdData","setMovieIdData","movieIdDataDetails","setMovieIdDataDetails","dataMovieDetails","useCallback","apiMovieLauncher","apiUtils","answer","data","id","console","log","useEffect","type","onClick","current","state","from","pathname","search","goBackButton","src","poster_path","alt","tagline","original_title","vote_average","overview","genres","map","_","name"],"sourceRoot":""}