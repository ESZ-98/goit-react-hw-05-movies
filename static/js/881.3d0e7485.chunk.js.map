{"version":3,"file":"static/js/881.3d0e7485.chunk.js","mappings":"2KA+BA,IA3BkB,SAAC,GAAmB,IAAjBA,EAAgB,EAAhBA,UACbC,GAAWC,EAAAA,EAAAA,MACjB,OACE,+BACE,wBACGF,EAAUG,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,KAAd,OACb,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaH,GAAMI,MAAO,CAAEC,KAAMR,GAA1C,SACa,OAAVI,EAAiBA,EAAQC,KAFrBF,EADI,OAUtB,C,uJClBD,EAAyB,uB,SCwCzB,EAlCe,WACb,OAAoCM,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,GAAgBC,EAAAA,EAAAA,aAAW,mCAAC,WAAMC,GAAN,iGAETC,EAAAA,EAAAA,GAAiBC,EAAAA,EAAAA,WAAoBF,IAF5B,OAExBG,EAFwB,OAG9BT,EAAcS,EAAOC,KAAKC,SAHI,gDAK9BC,QAAQC,IAAR,MAL8B,yDAAD,sDAO9B,IAOH,OALAC,EAAAA,EAAAA,YAAU,WAAO,IAAD,GACV,UAAAZ,EAAaa,IAAI,iBAAjB,eAA4BC,QAAS,GACvCZ,EAAcF,EAAaa,IAAI,UAClC,GAAE,CAACb,EAAcE,KAGhB,iBAAKa,UAAWC,EAAhB,WACE,kBACEC,SAAU,SAAAC,GACRA,EAAMC,iBACNlB,EAAgB,CAAEmB,OAAQF,EAAMG,OAAO,GAAGC,OAC3C,EAJH,WAME,kBAAOC,KAAK,OAAO/B,KAAK,YACxB,mBAAQ+B,KAAK,SAAb,wBAEF,SAACC,EAAA,EAAD,CAAWtC,UAAWW,MAG3B,C","sources":["components/MovieList/MovieList.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst MovieList = ({ movieList }) => {\n  const location = useLocation();\n  return (\n    <>\n      <ul>\n        {movieList.map(({ id, title, name }) => (\n          <li key={id}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              {title !== null ? title : name}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nMovieList.propTypes = {\n  trendingList: PropTypes.array(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n      name: PropTypes.string,\n    }),\n  ),\n};\n\nexport default MovieList;\n","// extracted by mini-css-extract-plugin\nexport default {\"movies\":\"Movies_movies__TE99a\"};","import React, { useState, useEffect, useCallback } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport MovieList from 'components/MovieList/MovieList';\nimport { apiMovieLauncher } from 'components/API/apiMovieLauncher';\nimport apiUtils from 'components/API/apiUtils';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchList, setSearchList] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const searchForSave = useCallback(async input => {\n    try {\n      const answer = await apiMovieLauncher(apiUtils.API_SEARCH(input));\n      setSearchList(answer.data.results);\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (searchParams.get('querry')?.length > 0)\n      searchForSave(searchParams.get('querry'));\n  }, [searchParams, searchForSave]);\n\n  return (\n    <div className={css.movies}>\n      <form\n        onSubmit={event => {\n          event.preventDefault();\n          setSearchParams({ querry: event.target[0].value });\n        }}\n      >\n        <input type=\"text\" name=\"querry\" />\n        <button type=\"submit\">Search</button>\n      </form>\n      <MovieList movieList={searchList} />\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["movieList","location","useLocation","map","id","title","name","to","state","from","useState","searchList","setSearchList","useSearchParams","searchParams","setSearchParams","searchForSave","useCallback","input","apiMovieLauncher","apiUtils","answer","data","results","console","log","useEffect","get","length","className","css","onSubmit","event","preventDefault","querry","target","value","type","MovieList"],"sourceRoot":""}